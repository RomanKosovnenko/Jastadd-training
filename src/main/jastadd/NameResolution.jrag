aspect NameResolution {

  syn Def Var.getDef();
  // eq Var.getDef() = new Def("d", 1.1f);
  eq Var.getDef() {
    ASTNode p = (ASTNode)this;
    while(p.parent != null) {
        p = p.parent;
    }
    for (ASTNode def : p.children[0].children) {
        if(def == null) continue;
        if( ((Def)def).getName().equals(getName()) ) {
            return (Def)def;
        }
    }
    return new Def();
  }
}